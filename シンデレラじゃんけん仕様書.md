# 🎯 野球拳テンプレート - シンデレラじゃんけん

## 📖 1. ゲーム概要

### コンセプト

「シンデレラじゃんけん」は、従来の野球拳ゲームとは正反対のコンセプトを持つ革新的なじゃんけんゲームです。プレイヤーがじゃんけんに勝利するたびに、対戦相手であるシンデレラの服装がボロボロの状態から徐々に豪華なプリンセスドレスへと変身していきます。魔法の力でシンデレラを美しく変身させ、舞踏会に送り出すことが最終目標となります。

### 基本情報

- **ジャンル**: カジュアル・じゃんけんゲーム
- **プラットフォーム**: Electron
- **想定プレイ時間**: 15-20分
- **対象年齢**: 全年齢
- **テーマ**: 魔法、変身、シンデレラストーリー

### ゲーム目標

フェアリーゴッドマザーの助けを借りて、じゃんけんの魔法でシンデレラを段階的に変身させ、最終的にプリンセスドレスを着た美しい姿で舞踏会に送り出すことです。プレイヤーの勝率と達成レベルによって、4つの異なるエンディングが待っています。

---

## 🎮 2. 必須4画面UI設計

### 【絶対必須】タイトル画面

```
┌─────────────────────────────────────────────────────────────┐
│                    🌟 シンデレラじゃんけん 🌟                    │
│                                                             │
│              [美しく輝く城の背景イメージ]                        │
│                                                             │
│                    ✨ 魔法の杖アイコン ✨                      │
│                                                             │
│                    ┌─────────────┐                          │
│                    │  ゲーム開始   │ ← ホバー時に光るエフェクト   │
│                    └─────────────┘                          │
│                           ↓                                 │
│                    ┌─────────────┐                          │
│                    │ 🌸 やさしい 🌸 │ ← AI勝率25%、時間長め     │
│                    └─────────────┘                          │
│                    ┌─────────────┐                          │
│                    │ ⭐ ふつう ⭐  │ ← AI勝率40%、標準時間     │
│                    └─────────────┘                          │
│                    ┌─────────────┐                          │
│                    │ 🔥 むずかしい 🔥│ ← AI勝率60%、時間短め     │
│                    └─────────────┘                          │
│                    ┌─────────────┐                          │
│                    │  ストーリー   │ ← 物語説明画面へ           │
│                    └─────────────┘                          │
│                    ┌─────────────┐                          │
│                    │   設定      │ ← 音量・画質設定            │
│                    └─────────────┘                          │
│                    ┌─────────────┐                          │
│                    │  エンディング │ ← 達成したエンディング閲覧   │
│                    │   ギャラリー   │                          │
│                    └─────────────┘                          │
│                                                             │
│        🎵 BGM: 幻想的なオーケストラ系音楽                      │
│        🎨 背景: 夜空に輝く城、星々、魔法のエフェクト             │
└─────────────────────────────────────────────────────────────┘
```

**インタラクティブ要素:**

- 背景の星々がキラキラと光る
- マウスオーバーでボタンが光る
- 魔法の杖から時々パーティクルが舞う
- タイトル文字がゆっくりと明滅
- 難易度選択時にはそれぞれ異なる色の魔法エフェクト
    - やさしい: ピンクの優しい光
    - ふつう: ゴールドのバランス光
    - むずかしい: 赤い激しい光

### 【絶対必須】会話シーン

```
┌─────────────────────────────────────────────────────────────┐
│  [背景: 魔法の森、シンデレラの家、城の舞踏会場等]                    │
│                                                             │
│  ┌─────────────┐                           ┌───────────────┐ │
│  │               │                           │               │ │
│  │               │                           │ フェアリー     │ │
│  │  シンデレラ     │        💬               │ ゴッドマザー   │ │
│  │  立ち絵        │   ┌─────────────────┐   │ 立ち絵        │ │
│  │               │   │ タイプライター風    │   │               │ │
│  │  [感情表現]    │   │ テキスト表示       │   │  [感情表現]    │ │
│  │               │   │                   │   │               │ │
│  └─────────────┘   │ 「さあ、魔法の     │   └───────────────┘ │
│                     │  じゃんけんで      │                     │
│                     │  美しく変身させて   │                     │
│                     │  あげましょう♪」    │                     │
│                     └─────────────────┘                     │
│                                                             │
│                           [NEXT] ← クリックで進行            │
│                                                             │
│  🎵 BGM: シーンに応じた音楽（森/家/城で変化）                    │
└─────────────────────────────────────────────────────────────┘
```

**感情表現システム:**

- 喜び、驚き、悲しみ、怒り、照れの5パターン
- 立ち絵の表情変化とポーズ変更
- 背景の明度・色調の微調整で感情を強調

### 【絶対必須】メインゲーム画面

```
┌─────────────────────────────────────────────────────────────┐
│  ┌───────────┐                               ┌─────────────┐ │
│  │ ラウンド数  │  ✨ 変身レベル: [████░] 4/5  │  残り時間   │ │
│  │   8/10    │                               │   02:45    │ │
│  └───────────┘                               └─────────────┘ │
│                                                             │
│              ┌─────────────────────────────┐                 │
│              │                             │                 │
│              │      シンデレラ立ち絵        │                 │
│              │    [現在の服装レベル表示]     │                 │
│              │                             │                 │
│              │     ✨ 変身エフェクト ✨      │                 │
│              └─────────────────────────────┘                 │
│                                                             │
│  ┌─────────────┐    VS    ┌─────────────────────────────┐    │
│  │             │           │                             │    │
│  │ プレイヤー   │           │        対戦結果表示          │    │
│  │  じゃんけん │           │                             │    │
│  │   選択UI   │           │    「あなたの勝利です！」      │    │
│  │             │           │   シンデレラが変身します✨    │    │
│  └─────────────┘           └─────────────────────────────┘    │
│                                                             │
│       ┌─────┐  ┌─────┐  ┌─────┐                           │
│       │  ✊  │  │  ✋  │  │  ✌️  │                           │
│       │ グー │  │ パー │  │チョキ│                           │
│       └─────┘  └─────┘  └─────┘                           │
│                                                             │
│  🎵 BGM: 軽快なじゃんけん音楽、勝利時はファンファーレ           │
└─────────────────────────────────────────────────────────────┘
```

**HUD詳細:**

- リアルタイム変身レベルゲージ
- 勝敗履歴の小さなアイコン表示
- 魔法エフェクトのパーティクル
- じゃんけん結果の視覚的フィードバック

### 【絶対必須】マルチエンディング画面

### パターン1: プリンセスエンディング

```
┌─────────────────────────────────────────────────────────────┐
│                  🏰 ✨ プリンセスエンディング ✨ 🏰              │
│                                                             │
│              [豪華な舞踏会場の背景]                           │
│                                                             │
│              ┌─────────────────────────────┐                 │
│              │                             │                 │
│              │   プリンセスドレス姿の       │                 │
│              │      シンデレラ             │                 │
│              │                             │                 │
│              │    👑 ティアラ輝く 👑        │                 │
│              └─────────────────────────────┘                 │
│                                                             │
│            💬「素晴らしい魔法でした！                         │
│               王子様と幸せに暮らしました」                    │
│                                                             │
│                  ┌─────────────┐                           │
│                  │ タイトルに戻る │                           │
│                  └─────────────┘                           │
│                  ┌─────────────┐                           │
│                  │ もう一度遊ぶ  │                           │
│                  └─────────────┘                           │
│                                                             │
│  🎵 BGM: 壮大な祝福の音楽、花火の音響効果                      │
└─────────────────────────────────────────────────────────────┘
```

### パターン2-4: レディ、メイド、庶民エンディング

それぞれ異なる背景、BGM、演出で差別化

---

## ⚙️ 3. ゲームシステム詳細

### メインゲームメカニクス

1. **じゃんけん対戦システム**
    - プレイヤー vs シンデレラ（AI制御）
    - 標準的なグー・パー・チョキルール
    - AIの選択はランダム（50%）+ 戦略的（50%）
2. **変身システム**
    - 勝利時: シンデレラの服装レベルが1段階アップ
    - 敗北時: 服装レベルが1段階ダウン（レベル1以下にはならない）
    - 引き分け時: 変化なし、特殊エフェクトのみ
3. **ゲーム終了条件**
    - 制限時間（3分）経過
    - または10ラウンド完了
    - 最終レベルに応じてエンディング分岐

### プレイヤー成長・進歩システム

- **達成度記録**: プレイ履歴、最高到達レベル、各エンディング達成状況
- **コレクション**: 各服装レベルのイラスト収集
- **統計情報**: 勝率、平均到達レベル、プレイ回数

### 5段階服装変化システム

1. **レベル1 - ボロボロの服**: 継ぎはぎだらけ、暗い色調
2. **レベル2 - 清楚なメイド服**: 白いエプロン、整った髪型
3. **レベル3 - お出かけドレス**: 明るい色、リボンとレース
4. **レベル4 - パーティードレス**: 豪華な装飾、宝石のアクセサリー
5. **レベル5 - プリンセスドレス**: 純白のドレス、ティアラ、魔法の光

### 難易度バランス

- **🌸 やさしい**: AI勝率25%、制限時間4分、ヒント表示あり
- **⭐ ふつう**: AI勝率40%、制限時間3分、標準バランス
- **🔥 むずかしい**: AI勝率60%、制限時間2分、戦略的AI

---

## 👗 4. キャラクター設定

### 主人公: シンデレラ

- **基本設定**: 心優しい少女、魔法で変身する
- **性格**: 純真、努力家、感謝の気持ちを忘れない
- **変身の特徴**: レベルアップ時に全身が光り、新しい衣装に包まれる

### サポートキャラ: フェアリーゴッドマザー

- **役割**: ゲームの進行役、魔法の説明役
- **特徴**: 温かい笑顔、星の杖、魔法のマント
- **セリフスタイル**: 優しく励ましの言葉をかける

### その他: 王子様（エピローグ登場）

- **役割**: プリンセスエンディングでの相手役
- **特徴**: 気品ある外見、優雅な仕草

### 成長に応じた視覚変化詳細

### レベル1→2変化

- 髪型: ボサボサ → 整った三つ編み
- 服装色: 茶色・灰色 → 白・青基調
- 表情: 疲れ気味 → 希望に満ちた笑顔

### レベル2→3変化

- 髪型: 三つ編み → カールした髪にリボン
- 服装: メイド服 → 可愛いワンピース
- アクセサリー: なし → 小さなイヤリング

### レベル3→4変化

- 髪型: リボン → エレガントなアップスタイル
- 服装: ワンピース → 豪華なイブニングドレス
- アクセサリー: イヤリング → ネックレス＋ブレスレット

### レベル4→5変化

- 髪型: アップスタイル → ティアラ付きプリンセスヘア
- 服装: イブニングドレス → 純白のプリンセスドレス
- 特殊効果: 全身を包む神々しい光のオーラ

---

## 📚 5. ストーリー・エンディング設計

### 基本ストーリー

昔々、継母と姉たちにいじめられていたシンデレラ。ある日、フェアリーゴッドマザーが現れ、魔法のじゃんけんでシンデレラを美しく変身させ、舞踏会に送り出そうと提案します。プレイヤーはゴッドマザーとなり、じゃんけんの魔法でシンデレラを段階的に変身させていきます。

### 必須4種類エンディング分岐

### 1. プリンセスエンディング（最高レベル5到達）

- **条件**: レベル5達成 + 勝率70%以上
- **背景**: 豪華な舞踏会場、花火
- **BGM**: 壮大な祝福の音楽
- **会話内容**:
    
    ```
    ゴッドマザー: 「完璧な魔法でした！シンデレラは真のプリンセスになりました」
    シンデレラ: 「ありがとうございます！王子様と幸せになります♪」
    ```
    
- **演出**: 花びらが舞い散る、王子様登場、祝福の光

### 2. レディエンディング（レベル4到達）

- **条件**: レベル4達成 + 勝率50%以上
- **背景**: 上品なパーティー会場
- **BGM**: エレガントなワルツ
- **会話内容**:
    
    ```
    ゴッドマザー: 「素晴らしい変身です。立派なレディになりました」
    シンデレラ: 「とても素敵な夜になりそうです」
    ```
    
- **演出**: 優雅なダンス、淡い光のエフェクト

### 3. メイドエンディング（レベル2-3到達）

- **条件**: レベル2-3で終了
- **背景**: 温かい家庭の部屋
- **BGM**: 温かい日常系音楽
- **会話内容**:
    
    ```
    ゴッドマザー: 「素敵に変身できましたね。自信を持って」
    シンデレラ: 「ありがとう。これからも頑張ります」
    ```
    
- **演出**: 温かい光、希望を表現する朝日

### 4. 庶民エンディング（レベル1のまま）

- **条件**: レベル1のまま終了
- **背景**: シンデレラの質素な部屋
- **BGM**: しっとりとした音楽、希望のメロディ
- **会話内容**:
    
    ```
    ゴッドマザー: 「魔法は難しかったですが、心の美しさは変わりません」
    シンデレラ: 「いつかきっと、素敵な日が来るでしょうね」
    ```
    
- **演出**: 窓から差し込む希望の光

### エンディング判定ロジック

```
function determineEnding(finalLevel, winRate, totalRounds) {
  if (finalLevel >= 5 && winRate >= 0.7) {
    return "princess";
  } else if (finalLevel >= 4 && winRate >= 0.5) {
    return "lady";
  } else if (finalLevel >= 2) {
    return "maid";
  } else {
    return "commoner";
  }
}
```

---

## 📊 6. CSV完全管理システム（絶対必須・最重要）

### 必須18個のCSVファイル構成

### 1. scenes.csv（シーン管理・背景・BGM）

```
scene_id,scene_name,background_image,bgm_file,ambient_sound,lighting_effect
title,タイトル画面,castle_night.jpg,title_theme.mp3,wind_soft.mp3,sparkle
dialogue_intro,導入会話,forest_magic.jpg,mysterious.mp3,birds.mp3,soft_glow
game_main,メインゲーム,garden_day.jpg,game_theme.mp3,none,dynamic
ending_princess,プリンセスEND,ballroom.jpg,victory_grand.mp3,fireworks.mp3,brilliant
ending_lady,レディEND,party_room.jpg,victory_elegant.mp3,applause.mp3,elegant
ending_maid,メイドEND,cozy_room.jpg,hope_theme.mp3,none,warm
ending_commoner,庶民END,simple_room.jpg,melancholy.mp3,none,soft
```

### 2. characters.csv（キャラクター・立ち絵設定）

```
character_id,character_name,base_image_path,voice_type,default_emotion,scale_factor
cinderella,シンデレラ,images/characters/cinderella/,soft_female,neutral,1.0
godmother,フェアリーゴッドマザー,images/characters/godmother/,warm_female,smile,0.9
prince,王子様,images/characters/prince/,gentle_male,noble,1.1
```

### 3. dialogues.csv（全会話データ・感情表現）

```
dialogue_id,scene_id,character_id,text,emotion,voice_speed,display_speed,next_dialogue
intro_01,dialogue_intro,godmother,"こんにちは、シンデレラ。魔法のじゃんけんで美しく変身させてあげましょう♪",smile,normal,slow,intro_02
intro_02,dialogue_intro,cinderella,"本当に魔法が使えるのですか？",surprise,normal,normal,intro_03
intro_03,dialogue_intro,godmother,"もちろんです！じゃんけんで勝つたびに、あなたは美しくなっていきますよ",confident,normal,slow,game_start
```

### 4. character_levels.csv（レベル別外見変化）

```
character_id,level,costume_name,image_file,hair_file,accessory_file,special_effect,description
cinderella,1,ボロボロの服,cinderella_lv1_dress.png,cinderella_lv1_hair.png,none,none,継ぎはぎだらけの古い服
cinderella,2,メイド服,cinderella_lv2_dress.png,cinderella_lv2_hair.png,cinderella_lv2_apron.png,clean_sparkle,清楚な白いメイド服
cinderella,3,お出かけドレス,cinderella_lv3_dress.png,cinderella_lv3_hair.png,cinderella_lv3_ribbon.png,flower_petals,可愛いリボン付きドレス
cinderella,4,パーティードレス,cinderella_lv4_dress.png,cinderella_lv4_hair.png,cinderella_lv4_jewelry.png,jewel_shine,豪華な装飾のイブニングドレス
cinderella,5,プリンセスドレス,cinderella_lv5_dress.png,cinderella_lv5_hair.png,cinderella_lv5_tiara.png,holy_aura,純白のプリンセスドレスとティアラ
```

### 5. endings.csv（エンディング分岐設定）

```
ending_id,ending_name,min_level,min_win_rate,max_level,max_win_rate,priority,title_text,description
princess,プリンセスエンディング,5,0.7,5,1.0,1,真のプリンセス,完璧な魔法で最高の変身を遂げました
lady,レディエンディング,4,0.5,5,0.69,2,エレガントなレディ,上品で美しい女性になりました
maid,メイドエンディング,2,0.0,3,1.0,3,素敵なメイド,清楚で可愛らしい姿に変身
commoner,庶民エンディング,1,0.0,1,1.0,4,心の美しさ,外見は変わらずとも心は美しいまま
```

### 6. ui_elements.csv（ボタン・UI要素の画像・位置・サイズ）

```
element_id,element_type,image_normal,image_hover,image_pressed,x_pos,y_pos,width,height,z_index
btn_start,button,btn_start_normal.png,btn_start_hover.png,btn_start_pressed.png,400,250,200,60,10
btn_difficulty_easy,difficulty_button,btn_easy_normal.png,btn_easy_hover.png,btn_easy_pressed.png,400,320,200,50,10
btn_difficulty_normal,difficulty_button,btn_normal_normal.png,btn_normal_hover.png,btn_normal_pressed.png,400,380,200,50,10
btn_difficulty_hard,difficulty_button,btn_hard_normal.png,btn_hard_hover.png,btn_hard_pressed.png,400,440,200,50,10
btn_story,button,btn_story_normal.png,btn_story_hover.png,btn_story_pressed.png,400,500,200,60,10
btn_settings,button,btn_settings_normal.png,btn_settings_hover.png,btn_settings_pressed.png,400,560,200,60,10
btn_gallery,button,btn_gallery_normal.png,btn_gallery_hover.png,btn_gallery_pressed.png,400,620,200,60,10
btn_rock,janken_button,janken_rock_normal.png,janken_rock_hover.png,janken_rock_pressed.png,200,500,80,80,15
btn_paper,janken_button,janken_paper_normal.png,janken_paper_hover.png,janken_paper_pressed.png,350,500,80,80,15
btn_scissors,janken_button,janken_scissors_normal.png,janken_scissors_hover.png,janken_scissors_pressed.png,500,500,80,80,15
```

### 7. ui_panels.csv（パネル配置・透明度・z-index）

```
panel_id,panel_type,x_pos,y_pos,width,height,opacity,z_index,background_image,border_style
status_panel,info,50,50,300,100,0.9,5,panel_ornate.png,golden
dialogue_panel,text,50,450,700,150,0.95,20,panel_scroll.png,vintage
character_panel,display,350,100,300,350,1.0,8,none,none
result_panel,popup,250,200,300,200,0.98,25,panel_magical.png,sparkle
level_gauge,progress,600,50,150,30,1.0,12,gauge_bg.png,crystal
```

### 8. ui_icons.csv（アイコン設定・ツールチップ）

```
icon_id,icon_image,tooltip_text,x_pos,y_pos,size,hover_effect,click_effect
level_star,star_golden.png,現在の変身レベル,580,30,24,glow,pulse
round_counter,round_icon.png,現在のラウンド数,80,30,20,rotate,bounce
timer_icon,hourglass.png,残り時間,720,30,24,shake,flash
magic_wand,wand_sparkle.png,魔法の力,400,80,32,sparkle,magic_burst
win_crown,crown_small.png,勝利回数,650,80,20,shine,celebration
```

### 9. click_areas.csv（クリック可能エリア・エフェクト）

```
area_id,x_pos,y_pos,width,height,cursor_type,hover_effect,click_effect,sound_effect,action
janken_rock,200,500,80,80,pointer,scale_up,bounce,click_btn.wav,select_rock
janken_paper,350,500,80,80,pointer,scale_up,bounce,click_btn.wav,select_paper
janken_scissors,500,500,80,80,pointer,scale_up,bounce,click_btn.wav,select_scissors
cinderella_character,350,100,300,350,pointer,soft_glow,sparkle,magic_chime.wav,show_info
next_dialogue,650,580,100,40,pointer,highlight,fade,page_turn.wav,advance_dialogue
```

### 10. ui_animations.csv（アニメーション・タイミング）

```
animation_id,target_element,animation_type,duration,easing,delay,repeat,trigger_event
level_up_glow,character_panel,glow_pulse,2000,ease_out,0,false,level_increase
victory_sparkle,result_panel,particle_burst,1500,linear,500,false,win_result
button_hover,ui_button,scale_bounce,300,ease_back,0,false,mouse_enter
dialogue_typewriter,dialogue_text,typewriter,auto,linear,0,false,text_display
transformation,cinderella_character,fade_transform,3000,ease_in_out,1000,false,costume_change
star_twinkle,background_stars,opacity_cycle,2000,ease_in_out,random,infinite,page_load
```

### 11. ui_fonts.csv（フォント・色・影設定）

```
font_id,font_family,font_size,font_weight,color,shadow_color,shadow_offset_x,shadow_offset_y,shadow_blur,text_align
title_main,serif,48,bold,#FFD700,#8B4513,2,2,4,center
dialogue_text,sans-serif,18,normal,#2F4F4F,#FFFFFF,1,1,2,left
ui_button,sans-serif,16,bold,#FFFFFF,#000000,1,1,3,center
status_info,monospace,14,normal,#4169E1,none,0,0,0,right
ending_title,serif,36,bold,#FF69B4,#8B008B,3,3,6,center
tooltip_text,sans-serif,12,normal,#000000,#FFFFE0,0,0,1,center
```

### 12. ui_responsive.csv（画面サイズ対応）

```
breakpoint,min_width,max_width,scale_factor,ui_layout,font_scale,button_scale,panel_adjustment
mobile,320,767,0.7,mobile,0.8,0.9,compact
tablet,768,1023,0.85,tablet,0.9,0.95,medium
desktop,1024,1439,1.0,desktop,1.0,1.0,normal
large,1440,1919,1.1,large,1.05,1.05,expanded
xl,1920,9999,1.2,xl,1.1,1.1,wide
```

### 13. game_balance.csv（数値バランス・経験値・価格等）

```
balance_id,category,difficulty,value_type,base_value,level_multiplier,max_value,min_value,description
transformation_points,progression,all,integer,10,1.5,100,1,変身に必要なポイント
ai_win_rate_easy,difficulty,easy,float,0.25,0.05,0.35,0.15,やさしい難易度のAI勝率
ai_win_rate_normal,difficulty,normal,float,0.40,0.05,0.50,0.30,ふつう難易度のAI勝率
ai_win_rate_hard,difficulty,hard,float,0.60,0.05,0.70,0.50,むずかしい難易度のAI勝率
time_limit_easy,gameplay,easy,integer,240,0,300,180,やさしい制限時間（秒）
time_limit_normal,gameplay,normal,integer,180,0,240,120,ふつう制限時間（秒）
time_limit_hard,gameplay,hard,integer,120,0,180,90,むずかしい制限時間（秒）
max_rounds,gameplay,all,integer,10,0,15,5,最大ラウンド数
bonus_consecutive,scoring,all,integer,5,2,20,5,連勝ボーナス
hint_display,ui,easy,boolean,true,0,true,false,ヒント表示の有無
ai_strategy_level,ai,easy,integer,1,0,3,1,AI戦略レベル（1=ランダム多め、3=高戦略）
ai_strategy_level,ai,normal,integer,2,0,3,1,AI戦略レベル（1=ランダム多め、3=高戦略）
ai_strategy_level,ai,hard,integer,3,0,3,1,AI戦略レベル（1=ランダム多め、3=高戦略）
```

### 14. sound_effects.csv（音響効果・BGM設定）

```
sound_id,file_name,sound_type,volume,loop,fade_in,fade_out,category,trigger_event
title_bgm,title_theme.mp3,bgm,0.7,true,2000,1000,music,scene_load
game_bgm,game_theme.mp3,bgm,0.6,true,1000,1000,music,game_start
victory_fanfare,victory.mp3,sfx,0.8,false,0,0,effect,player_win
defeat_sound,defeat.mp3,sfx,0.7,false,0,0,effect,player_lose
transformation,magic_sparkle.mp3,sfx,0.9,false,500,0,magic,level_up
button_click,click.wav,ui,0.5,false,0,0,interface,button_press
dialogue_beep,text_beep.wav,ui,0.3,false,0,0,interface,text_advance
```

### 15. janken_rules.csv（じゃんけんルール・結果判定）

```
player_choice,opponent_choice,result,transformation_change,score_change,special_effect,result_text
rock,rock,draw,0,0,sparkle_neutral,引き分けです
rock,paper,lose,-1,-10,fade_disappointment,負けです...
rock,scissors,win,1,10,burst_celebration,勝利です！
paper,rock,win,1,10,burst_celebration,勝利です！
paper,paper,draw,0,0,sparkle_neutral,引き分けです
paper,scissors,lose,-1,-10,fade_disappointment,負けです...
scissors,rock,lose,-1,-10,fade_disappointment,負けです...
scissors,paper,win,1,10,burst_celebration,勝利です！
scissors,scissors,draw,0,0,sparkle_neutral,引き分けです
```

### 16. costume_data.csv（服装データ・変化パターン）

```
costume_id,level,name,main_color,accent_color,fabric_type,decoration,rarity,unlock_condition
tattered_dress,1,ボロボロの服,#8B4513,#A0522D,cotton,patches,common,default
maid_outfit,2,メイド服,#FFFFFF,#4169E1,linen,apron,common,level_2_reach
casual_dress,3,お出かけドレス,#FFB6C1,#FF69B4,silk,ribbons,uncommon,level_3_reach
party_dress,4,パーティードレス,#9370DB,#FFD700,velvet,jewels,rare,level_4_reach
princess_gown,5,プリンセスドレス,#F8F8FF,#C0C0C0,satin,tiara,legendary,level_5_reach
```

### 17. magic_effects.csv（魔法エフェクト設定）

```
effect_id,effect_name,particle_image,particle_count,duration,color_start,color_end,movement_pattern,size_range,trigger
transformation_burst,変身の輝き,star_particle.png,50,3000,#FFD700,#FFFFFF,spiral_out,10-30,level_up
victory_sparkle,勝利の煌めき,sparkle.png,30,2000,#00FF00,#FFFF00,random_float,5-15,win_result
defeat_fade,敗北の霞,smoke.png,20,1500,#808080,#000000,drift_down,8-20,lose_result
neutral_glow,平静の光,glow.png,15,1000,#87CEEB,#E6E6FA,gentle_pulse,12-25,draw_result
magic_aura,魔法のオーラ,aura.png,40,4000,#FF00FF,#8A2BE2,orbit_character,15-35,continuous
```

### 18. difficulty_settings.csv（難易度別設定）

```
difficulty_id,difficulty_name,display_name,icon,description,ai_win_rate,time_limit,hint_enabled,ai_strategy,unlock_condition
easy,やさしい,🌸 やさしい 🌸,sakura.png,初心者向けの優しい難易度,0.25,240,true,1,default
normal,ふつう,⭐ ふつう ⭐,star.png,バランスの取れた標準難易度,0.40,180,false,2,default
hard,むずかしい,🔥 むずかしい 🔥,fire.png,上級者向けの挑戦的難易度,0.60,120,false,3,normal_clear
expert,エキスパート,💎 エキスパート 💎,diamond.png,真の実力者のための最高難易度,0.75,90,false,4,hard_clear
```

---

## 🎨 7. UI画像仕様

### ファイル構成

```
/images
  /backgrounds
    - castle_night.jpg (1920x1080)
    - forest_magic.jpg (1920x1080)
    - garden_day.jpg (1920x1080)
    - ballroom.jpg (1920x1080)
    - party_room.jpg (1920x1080)
    - cozy_room.jpg (1920x1080)
    - simple_room.jpg (1920x1080)
  
  /characters
    /cinderella
      - cinderella_lv1_dress.png (400x600, 透明背景)
      - cinderella_lv1_hair.png (400x600, 透明背景)
      - cinderella_lv2_dress.png (400x600, 透明背景)
      - cinderella_lv2_hair.png (400x600, 透明背景)
      - cinderella_lv2_apron.png (400x600, 透明背景)
      - [レベル3-5も同様]
    /godmother
      - godmother_base.png (350x550, 透明背景)
      - godmother_wand.png (350x550, 透明背景)
    /prince
      - prince_base.png (380x600, 透明背景)
  
  /ui
    /buttons
      - btn_start_normal.png (200x60)
      - btn_start_hover.png (200x60, 光るエフェクト)
      - btn_easy_normal.png (200x50, ピンク基調)
      - btn_easy_hover.png (200x50, ピンクの光るエフェクト)  
      - btn_easy_pressed.png (200x50, ピンクの押し込み効果)
      - btn_normal_normal.png (200x50, ゴールド基調)
      - btn_normal_hover.png (200x50, ゴールドの光るエフェクト)
      - btn_normal_pressed.png (200x50, ゴールドの押し込み効果)
      - btn_hard_normal.png (200x50, 赤基調)
      - btn_hard_hover.png (200x50, 赤い炎のエフェクト)
      - btn_hard_pressed.png (200x50, 赤の押し込み効果)
      - [他ボタンも同様の3状態]
    
    /panels
      - panel_ornate.png (可変サイズ、9-slice対応)
      - panel_scroll.png (可変サイズ、9-slice対応)
      - panel_magical.png (可変サイズ、9-slice対応)
    
    /icons
      - star_golden.png (24x24)
      - round_icon.png (20x20)
      - hourglass.png (24x24)
      - wand_sparkle.png (32x32)
      - crown_small.png (20x20)
    
    /janken
      - janken_rock_normal.png (80x80)
      - janken_rock_hover.png (80x80, 光るエフェクト)
      - janken_rock_pressed.png (80x80, 押し込み効果)
      - [パー、チョキも同様]
    
    /effects
      - star_particle.png (16x16, 透明背景)
      - sparkle.png (12x12, 透明背景)
      - smoke.png (20x20, 透明背景)
      - glow.png (24x24, 透明背景)
      - aura.png (32x32, 透明背景)
```

### 色彩設計

- **メインカラー**: ゴールド(#FFD700)、ホワイト(#FFFFFF)
- **アクセントカラー**: ピンク(#FF69B4)、ブルー(#4169E1)
- **背景カラー**: 夜空のダークブルー(#191970)、城の石造りグレー(#708090)

---

## ✨ 8. アニメーション仕様

### レベルアップ変身アニメーション

1. **準備フェーズ** (1秒): キャラクター周囲に魔法の光が集まる
2. **変身フェーズ** (2秒): 全身が光に包まれ、服装が変化
3. **完了フェーズ** (1秒): 新しい姿が現れ、キラキラエフェクト

### UI要素アニメーション

- **ボタンホバー**: 0.3秒でスケール1.05倍、柔らかい光
- **画面遷移**: 1秒のフェードイン/アウト
- **勝利演出**: 2秒間のパーティクル放出
- **敗北演出**: 1.5秒の暗転エフェクト

### 音響エフェクト連動

- **変身音**: 魔法の鈴の音 + キラキラ音
- **勝利音**: ファンファーレ + 拍手
- **敗北音**: 悲しい音 + ため息
- **UI音**: 軽やかなクリック音

---

## 💻 9. 実装サンプル

### メインゲームロジック（JavaScript）

```javascript
class CinderellaJankenGame {
  constructor() {
    this.currentLevel = 1;
    this.maxLevel = 5;
    this.currentRound = 0;
    this.maxRounds = 10;
    this.wins = 0;
    this.losses = 0;
    this.difficulty = 'normal'; // easy, normal, hard
    this.gameSettings = {};
  }

  async initializeGame(difficulty) {
    this.difficulty = difficulty;
    this.gameSettings = await this.loadDifficultySettings(difficulty);
    this.timeRemaining = this.gameSettings.time_limit;
  }

  async playJanken(playerChoice) {
    const aiChoice = this.getAIChoice();
    const result = this.determineWinner(playerChoice, aiChoice);
    
    await this.showResult(result, playerChoice, aiChoice);
    
    if (result === 'win') {
      this.wins++;
      await this.levelUp();
    } else if (result === 'lose') {
      this.losses++;
      await this.levelDown();
    }
    
    this.currentRound++;
    
    if (this.isGameOver()) {
      await this.showEnding();
    }
  }

  async levelUp() {
    if (this.currentLevel < this.maxLevel) {
      this.currentLevel++;
      await this.playTransformationAnimation();
      await this.updateCharacterDisplay();
    }
  }

  async levelDown() {
    if (this.currentLevel > 1) {
      this.currentLevel--;
      await this.updateCharacterDisplay();
    }
  }

  getAIChoice() {
    const choices = ['rock', 'paper', 'scissors'];
    const aiWinRate = this.gameSettings.ai_win_rate;
    const strategyLevel = this.gameSettings.ai_strategy_level;
    
    // 戦略レベルに応じて判断
    if (Math.random() < (strategyLevel / 3)) {
      return this.getStrategicChoice();
    } else {
      return choices[Math.floor(Math.random() * choices.length)];
    }
  }

  async loadDifficultySettings(difficulty) {
    const balanceData = await this.loadCSVData('game_balance.csv');
    const settings = {};
    
    balanceData.forEach(row => {
      if (row.difficulty === difficulty || row.difficulty === 'all') {
        settings[row.balance_id] = row.value_type === 'integer' 
          ? parseInt(row.base_value)
          : row.value_type === 'float'
          ? parseFloat(row.base_value)
          : row.base_value === 'true';
      }
    });
    
    return settings;
  }

  determineWinner(player, ai) {
    if (player === ai) return 'draw';
    
    const winConditions = {
      'rock': 'scissors',
      'paper': 'rock',
      'scissors': 'paper'
    };
    
    return winConditions[player] === ai ? 'win' : 'lose';
  }

  async showEnding() {
    const winRate = this.wins / (this.wins + this.losses);
    const endingType = this.determineEnding(this.currentLevel, winRate);
    
    const endingData = await this.loadCSVData('endings.csv');
    const ending = endingData.find(e => e.ending_id === endingType);
    
    await this.displayEnding(ending);
  }
}
```

### CSS変身アニメーション

```css
.character-transformation {
  position: relative;
  transition: all 3s ease-in-out;
}

.transformation-effect {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, 
    rgba(255, 215, 0, 0.8) 0%, 
    rgba(255, 255, 255, 0.6) 50%, 
    transparent 100%);
  opacity: 0;
  animation: transformationGlow 3s ease-in-out;
}

@keyframes transformationGlow {
  0% { opacity: 0; transform: scale(0.8); }
  50% { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0; transform: scale(1.0); }
}

.character-levelup {
  animation: levelUpPulse 2s ease-out;
}

@keyframes levelUpPulse {
  0% { transform: scale(1.0); filter: brightness(1.0); }
  25% { transform: scale(1.1); filter: brightness(1.5); }
  50% { transform: scale(1.05); filter: brightness(1.8); }
  75% { transform: scale(1.1); filter: brightness(1.3); }
  100% { transform: scale(1.0); filter: brightness(1.0); }
}
```

### CSV読み込みシステム

```javascript
class CSVManager {
  constructor() {
    this.cache = new Map();
  }

  async loadCSV(filename) {
    if (this.cache.has(filename)) {
      return this.cache.get(filename);
    }

    try {
      const response = await fetch(`data/${filename}`);
      const csvText = await response.text();
      const data = this.parseCSV(csvText);
      
      this.cache.set(filename, data);
      return data;
    } catch (error) {
      console.error(`CSV読み込みエラー: ${filename}`, error);
      return [];
    }
  }

  parseCSV(csvText) {
    const lines = csvText.split('\n');
    const headers = lines[0].split(',');
    const data = [];

    for (let i = 1; i < lines.length; i++) {
      if (lines[i].trim() === '') continue;
      
      const values = lines[i].split(',');
      const row = {};
      
      headers.forEach((header, index) => {
        row[header.trim()] = values[index] ? values[index].trim() : '';
      });
      
      data.push(row);
    }

    return data;
  }

  async getCharacterLevel(characterId, level) {
    const data = await this.loadCSV('character_levels.csv');
    return data.find(item => 
      item.character_id === characterId && 
      parseInt(item.level) === level
    );
  }

  async getDialogue(dialogueId) {
    const data = await this.loadCSV('dialogues.csv');
    return data.find(item => item.dialogue_id === dialogueId);
  }

  async getEnding(endingId) {
    const data = await this.loadCSV('endings.csv');
    return data.find(item => item.ending_id === endingId);
  }
}
```

---

## 🎮 10. 想定プレイフロー

### タイムライン（15-20分の体験）

### 0:00-2:00 - 導入フェーズ

- タイトル画面での世界観紹介
- フェアリーゴッドマザーとの会話
- ゲームルール説明
- 第1回変身への期待感醸成

### 2:00-12:00 - メインプレイフェーズ

- **2:00-4:00**: レベル1→2 初回変身の感動
- **4:00-6:00**: レベル2→3 ゲームリズム確立
- **6:00-8:00**: レベル3→4 中間目標達成
- **8:00-10:00**: レベル4→5 最終変身への挑戦
- **10:00-12:00**: 緊張感のあるラスト3ラウンド

### 12:00-15:00 - エンディングフェーズ

- 結果に応じたエンディング分岐
- キャラクターとの最終会話
- 達成感と次回プレイへの動機付け

### 15:00-20:00 - リプレイ要素

- エンディングギャラリー閲覧
- 未達成エンディングへの挑戦意欲
- 設定・統計情報の確認

### プレイヤー体験設計

### 情緒的な流れ

1. **好奇心**: タイトル画面での世界観への興味
2. **期待感**: 魔法による変身への期待
3. **達成感**: 初回レベルアップの感動
4. **緊張感**: 中盤の勝負の駆け引き
5. **感動**: エンディングでの満足感
6. **再挑戦欲**: 他エンディング獲得への意欲

### 学習曲線

- **序盤**: ルール理解とUI操作の習得
- **中盤**: 戦略的思考とリズム感の確立
- **終盤**: 緊張感のある集中プレイ

### リプレイ価値要素

- 4種類の異なるエンディング体験
- 各服装レベルの細かいディテール鑑賞
- 勝率・統計データの改善チャレンジ
- 隠し要素・イースターエッグ発見

---

## 📈 成功基準・品質保証

### 合格必須条件（3項目）

✅ **【合格必須条件1】必須4画面完備**:

- タイトル画面（立ち絵付き4メニュー）
- 会話シーン（タイプライター風、感情表現）
- メインゲーム画面（HUD、操作UI、進捗表示）
- マルチエンディング画面（4種類専用演出）

✅ **【合格必須条件2】CSV外部化率100%**:

- 最低18個のCSVファイル完全外部管理
- テキスト、画像パス、数値、設定値等すべて外部化
- プログラマー以外でも調整可能な構造

✅ **【合格必須条件3】4種類エンディング**:

- プリンセス、レディ、メイド、庶民エンディング
- 各々異なる背景・BGM・演出・会話内容
- 達成度に応じた明確な分岐ロジック

### 追加品質基準

- ✅ 15-20分で満足感のある体験
- ✅ リプレイ価値のある要素
- ✅ テーマの魅力が伝わる演出
- ✅ プロレベルのUI/UX品質
- ✅ コード変更なしでの容易な調整・拡張性

### 技術実装要件

- HTML5/CSS3/JavaScript使用
- LocalStorage自動セーブ（5秒間隔）
- レスポンシブ対応（モバイル〜デスクトップ）
- アクセシビリティ配慮（キーボード操作、音声読み上げ対応）

---

## 🚀 開発・拡張方針

### 開発優先順位

1. **Phase 1**: 基本UI構築とCSVシステム実装
2. **Phase 2**: じゃんけんロジックとキャラクター表示
3. **Phase 3**: 変身アニメーションと音響効果
4. **Phase 4**: エンディング分岐とデータ保存
5. **Phase 5**: UI/UXの最終調整とバランシング

### 拡張可能性

- 新キャラクター追加（王子様、継母、姉たち）
- 服装バリエーション拡張（季節テーマ、色違い）
- ミニゲーム要素（着せ替え、デコレーション）
- マルチプレイヤー対応
- アチーブメントシステム

### 保守性の確保

- 全データのCSV外部化により、企画者レベルでの調整が可能
- モジュール化されたJavaScriptコード
- 明確なファイル命名規則とディレクトリ構成
- 包括的なコメントとドキュメント

---

この仕様書は、Claude Codeに直接渡すことで、完全に実装可能な「シンデレラじゃんけん」ゲームを開発できる設計となっています。独創的なゲームシステム、完全なCSV外部管理、4つの必須画面、マルチエンディングシステムなど、すべての必須要件を満たした包括的な仕様書です。